(function(t){function e(e){for(var r,s,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);m&&m(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var o=a[s];0!==n[o]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},s={app:0},n={app:0},i=[];function o(t){return c.p+"js/"+({Admin:"Admin",Category:"Category",Login:"Login",Navigation:"Navigation",ProductDetail:"ProductDetail",Register:"Register",about:"about"}[t]||t)+"."+{Admin:"4336511a",Category:"8803b928",Login:"fad58198",Navigation:"29a15ac5",ProductDetail:"f3ed6351",Register:"92e90dc9",about:"f55ceb26"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={Admin:1,Category:1,Login:1,Navigation:1,ProductDetail:1,Register:1,about:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var r="css/"+({Admin:"Admin",Category:"Category",Login:"Login",Navigation:"Navigation",ProductDetail:"ProductDetail",Register:"Register",about:"about"}[t]||t)+"."+{Admin:"0db36e3a",Category:"f5fcdd5f",Login:"39a64a8a",Navigation:"8e9865c2",ProductDetail:"2014f04b",Register:"1c175028",about:"62b4c697"}[t]+".css",n=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===n))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===r||u===n)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete s[t],m.parentNode.removeChild(m),a(i)},m.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){s[t]=0})));var r=n[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,a){r=n[t]=[e,a]}));e.push(r[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(m);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,a[1](d)}n[t]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var m=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01a1":function(t,e,a){t.exports=a.p+"img/222.d84a0063.jpeg"},"034f":function(t,e,a){"use strict";a("85ec")},"0400":function(t,e,a){t.exports=a.p+"img/gregory.05a6c3e3.png"},"0e75":function(t,e,a){},1602:function(t,e,a){"use strict";a.d(e,"m",(function(){return s})),a.d(e,"i",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"h",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"k",(function(){return m})),a.d(e,"l",(function(){return p})),a.d(e,"c",(function(){return f})),a.d(e,"b",(function(){return v})),a.d(e,"a",(function(){return g}));a("99af");var r=a("4f96"),s=function(t){return r["a"].post("/users/register",t)},n=function(t){return r["a"].post("/users/login",t,{withCredentials:!0})},i=function(){return r["a"].delete("/users/logout")},o=function(){return r["a"].get("/users/heartbeat",{withCredentials:!0})},c=function(t){var e=t.userId;return r["a"].get("/users/profile/".concat(e))},l=function(t){var e=t.userId;return r["a"].get("/users/order/".concat(e))},u=function(t){var e=t.userId,a=t.orderId;return r["a"].get("/users/order/".concat(e,"?orderId=").concat(a))},d=function(t){var e=t.userId,a=t.orderStatus;return r["a"].get("/users/order/".concat(e,"?orderStatus=").concat(a))},m=function(t,e){var a=t.userId;return r["a"].post("/users/order/".concat(a),e)},p=function(t,e){var a=t.userId,s=t.orderId;return r["a"].post("/users/order/".concat(a,"/?orderId=").concat(s),e)},f=function(t,e){var a=t.userId,s=t.orderId;return r["a"].patch("/users/order/".concat(a,"/?orderId=").concat(s),e)},v=function(t){var e=t.userId,a=t.orderId,s=t.pId;return r["a"].delete("/users/order/".concat(e,"/?orderId=").concat(a,"&pId=").concat(s))},g=function(t,e){var a=t.userId,s=t.orderId;return r["a"].patch("/users/order/".concat(a,"/complete?orderId=").concat(s),e)}},"16f5":function(t,e,a){t.exports=a.p+"img/4.f94ddeca.jpeg"},"17f8":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product.productImg?r("v-card",{staticClass:"mx-auto d-flex align-center pa-0",attrs:{"max-width":"600",width:"100%"}},[r("v-col",{staticClass:"col-lg-3",attrs:{cols:"4"}},[r("router-link",{attrs:{to:{name:"ProductDetail",params:{productId:t.product._id}}}},[r("v-img",{attrs:{"lazy-src":a("01a1"),src:t.env+"/products/file/"+t.product.productImg[0].file}})],1)],1),r("v-list-item",{staticClass:"col-5",attrs:{"three-line":""}},[r("v-list-item-content",[r("div",{staticClass:"overline mb-1"},[t._v(" "+t._s(t.product.brand)+" ")]),r("div",{staticClass:"text-lg-subtitle-1 text-subtitle-2 headline mb-4 text-wrap"},[t._v(" "+t._s(t.product.productName)+" "),t.product.detail?r("div",[t.product.detail.color?r("span",{staticClass:"overline mr-3"},[t._v(t._s(t.product.detail.color))]):t._e(),t.product.detail.size?r("span",{staticClass:"overline"},[t._v(t._s(t.product.detail.size))]):t._e()]):t._e()]),r("v-list-item-subtitle",{staticClass:"primary--text"},[t._v("$"+t._s(t.product.price))])],1)],1),r("v-list-item",{staticClass:"d-flex align-center justify-center justify-lg-center col-3 col-lg-4"},[t.product.quantity?r("div",{staticClass:"d-flex align-center justify-center flex-column"},[r("v-list-item-subtitle",{staticClass:"text-lg-subtitle-1 text-subtitle-2 headline mb-4 text-wrap"},[t._v("數量")]),r("v-list-item-subtitle",{staticClass:"primary--text"},[t._v(t._s(t.product.quantity))])],1):t._e()])],1):t._e()},s=[],n={props:["product"],data:function(){return{env:"https://vue-hiker.herokuapp.com"}}},i=n,o=a("2877"),c=a("6544"),l=a.n(c),u=a("b0af"),d=a("62ad"),m=a("adda"),p=a("da13"),f=a("5d23"),v=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=v.exports;l()(v,{VCard:u["a"],VCol:d["a"],VImg:m["a"],VListItem:p["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"]})},1985:function(t,e,a){},"1a73":function(t,e,a){"use strict";a("e816")},"1be2":function(t,e,a){"use strict";a("faf5")},"2a34":function(t,e,a){},"2c28":function(t,e,a){"use strict";a.d(e,"i",(function(){return s})),a.d(e,"g",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"c",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"l",(function(){return d})),a.d(e,"e",(function(){return m})),a.d(e,"d",(function(){return p})),a.d(e,"k",(function(){return f})),a.d(e,"j",(function(){return v})),a.d(e,"m",(function(){return g}));a("99af");var r=a("4f96"),s=function(){return r["a"].get("/products")},n=function(t){var e=t.navigation;return r["a"].get("/products/?navigation=".concat(e))},i=function(t){var e=t.navigation,a=t.category;return r["a"].get("/products/?navigation=".concat(e,"&category=").concat(a))},o=function(t){var e=t.brand;return r["a"].get("/products/?brand=".concat(e))},c=function(t){var e=t.productId;return r["a"].get("/products/".concat(e))},l=function(){return r["a"].get("/products/classification/all")},u=function(){return r["a"].get("/products/mainpage/hotsale")},d=function(t,e){var a=t.productId;return r["a"].post("/products/".concat(a,"/comment"),e)},m=function(t){var e=t.productId;return r["a"].get("/products/".concat(e,"/comment"))},p=function(t){var e=t.productId,a=t.commentId;return r["a"].get("/products/".concat(e,"/comment/?commentId=").concat(a))},f=function(t){var e=t.productId;return r["a"].get("/products/".concat(e,"/question"))},v=function(t){var e=t.productId,a=t.questionId;return r["a"].get("/products/".concat(e,"/question/?questionId=").concat(a))},g=function(t,e){var a=t.productId;return r["a"].post("/products/".concat(a,"/question"),e)}},3098:function(t,e,a){t.exports=a.p+"img/mainpage3.724949dd.png"},"386d":function(t,e,a){"use strict";a("b6c6")},"4f96":function(t,e,a){"use strict";var r=a("bc3a"),s=a.n(r),n=s.a.create({baseURL:"https://vue-hiker.herokuapp.com",withCredentials:!0});e["a"]=n},"51a6":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{app:""}},[a("router-view")],1)},n=[],i=a("1602"),o={name:"App",data:function(){return{heartbeatActive:null}},computed:{user:function(){return this.$store.state.user}},methods:{heartbeats:function(){var t=this;Object(i["h"])().then((function(e){t.user.id.length>0&&(e.data||(t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")))})).catch((function(e){console.log(e),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")}))}},mounted:function(){var t=this;this.heartbeats(),this.heartbeatActive=setInterval((function(){t.heartbeats()}),5e3)},beforeDestroy:function(){clearInterval(this.heartbeatActive)}},c=o,l=(a("034f"),a("2877")),u=a("6544"),d=a.n(u),m=a("7496"),p=Object(l["a"])(c,s,n,!1,null,null,null),f=p.exports;d()(p,{VApp:m["a"]});a("d3b7");var v=a("8c4f"),g=(a("7db0"),a("4160"),a("a434"),a("159b"),a("96cf"),a("1da1")),h=a("2f62"),b=a("0e44");function x(){return{user:{username:"",id:"",role:""},cartList:[],orderId:"",orderDetail:{receiver:"",phone:0,address:"",delivery:"",payment:"",totalPrice:0},processCheckout:!1}}function C(){return{receiver:"",phone:0,address:"",delivery:"",payment:"",totalPrice:0}}r["default"].use(h["a"]);var y=new h["a"].Store({state:x(),getters:{},mutations:{logout:function(t){Object.assign(t,x())},login:function(t,e){t.user.username=e.username,t.user.id=e.id,t.user.role=e.role},SET_TOTAL_PRICE:function(t,e){t.orderDetail.totalPrice=e},SET_ORDER_DETAIL:function(t,e){t.orderDetail=e},SET_CHECKOUT_STATUS:function(t,e){t.processCheckout=e},INIT_CART:function(t){var e=window.localStorage.getItem("hiker-cart");e&&(t.cartList=JSON.parse(e))},SET_CART:function(t,e){t.cartList=e.cartList,t.orderId=e.orderId},ADD_CART:function(t,e){var a=e.productId,r=e.price,s=e.productName,n=e.detailId,i=e.quantity,o={productId:a,price:r,productName:s,detailId:n},c=t.cartList,l=!0;c.length&&(o.detailId?c.forEach((function(t){t.productId===o.productId&&t.detailId===o.detailId&&(t.quantity+=i,l=!1)})):c.forEach((function(t){t.productId===o.productId&&(t.quantity+=i,l=!1)}))),c.length&&!l||(o.quantity=i,c.push(o)),t.cartList=c,window.localStorage.setItem("hiker-cart",JSON.stringify(c))},RESET_CART:function(t){Object.assign(t.orderDetail,C()),t.cartList=[],t.orderId=""},INCREMENT_ITEM:function(t,e){var a=e.productId,r=t.cartList.find((function(t){return t.productId===a}));r.quantity++,window.localStorage.setItem("hiker-cart",JSON.stringify(t.cartList))},DECREMENT_ITEM:function(t,e){var a=e.productId,r=t.cartList.find((function(t){return t.productId===a}));r.quantity--,window.localStorage.setItem("hiker-cart",JSON.stringify(t.cartList))},DEL_CART:function(t,e){var a=t.cartList;e.detailId?a.forEach((function(t,r){t.detailId===e.detailId&&a.splice(r,1)})):a.forEach((function(t,r){t.productId===e.productId&&a.splice(r,1)})),t.cartList=a,window.localStorage.setItem("hiker-cart",JSON.stringify(t.cartList))}},actions:{fetchCartList:function(t){return Object(g["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,r=t.commit,e.next=3,Object(i["d"])({userId:a.user.id});case 3:s=e.sent,s.data.orderList?(n=[],s.data.orderList.products.length&&(n=s.data.orderList.products),o=s.data.orderList._id,console.log(n),window.localStorage.setItem("hiker-cart",JSON.stringify(n)),r("SET_CART",{cartList:n,orderId:o})):r("SET_CART",{cartList:[],orderId:""}),r("INIT_CART");case 6:case"end":return e.stop()}}),e)})))()}},modules:{},plugins:[Object(b["a"])()]}),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{staticClass:"home",attrs:{app:""}},[r("Navbar"),r("div",{staticClass:"vh-100 ma-0 pa-0"},[r("v-carousel",{attrs:{height:"100%","hide-delimiter-background":"","hide-delimiters":!t.$vuetify.breakpoint.mobile,"show-arrows":!t.$vuetify.breakpoint.mobile}},t._l(t.pictures,(function(e,a){return r("v-carousel-item",{key:a,attrs:{src:e.src,"reverse-transition":"fade-transition",transition:"fade-transition"}},[r("div",{staticClass:"white--text absolute slogan col-3 col-lg-1 d-flex justify-center align-center"},[r("h1",{staticClass:"text-h5 text-sm-h3 font-weight-bold slogan_line_height"},[t._v(" YOUR NEXT HIKING OUTFIT ")])])])})),1)],1),r("div",{staticClass:"my-15 mx-auto"},[r("div",{staticClass:"d-flex justify-center"},[r("h3",{staticClass:"ma-lg-5 mb-lg-15 mb-15 mx-5 px-5"},[r("span",{staticClass:"new-title text-h4 text-lg-h3 font-weight-bold highlight"},[t._v("新品上市")])])]),r("NewItem")],1),r("v-container",{staticClass:"d-flex flex-wrap justify-center homePage"},[r("v-row",{staticClass:"col-12 col-lg-6 d-flex flex-wrap justify-center",attrs:{id:"row1"}},[r("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12","data-aos":"fade-up","data-aos-once":"true","data-aos-duration":"700","data-aos-offset":"400"}},[r("div",{staticClass:"col-12 d-flex flex-column flex-sm-row align-center justify-space-around bg-1 pa-10"},[r("div",{staticClass:"mb-10"},[r("p",{staticClass:"mb-1 text-h5"},[t._v("上衣")]),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"women",category:"shirt"}}}},[r("span",{staticClass:"highlight overline"},[t._v("SHOP NOW→")])])],1),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"women",category:"shirt"}}}},[r("v-img",{attrs:{"max-width":"300px",src:a("9852")}})],1)],1)]),r("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12","data-aos":"fade-up","data-aos-once":"true","data-aos-duration":"700","data-aos-offset":"400"}},[r("div",{staticClass:"col-12 d-flex flex-column flex-sm-row align-center justify-space-around bg-1 pa-10"},[r("div",{staticClass:"mb-10"},[r("p",{staticClass:"mb-1 text-h5"},[t._v("登山鞋")]),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"men",category:"shoes"}}}},[r("span",{staticClass:"highlight overline"},[t._v("SHOP NOW→")])])],1),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"men",category:"shoes"}}}},[r("v-img",{attrs:{"max-width":"300px",src:a("f369")}})],1)],1)])],1),r("v-row",{staticClass:"col-12 col-lg-6 d-flex flex-wrap justify-center",attrs:{id:"row2"}},[r("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12","data-aos":"fade-left","data-aos-once":"true","data-aos-duration":"700","data-aos-offset":"400"}},[r("div",{staticClass:"col-12 d-flex flex-column flex-sm-row align-center justify-space-around bg-2 pa-10 pr-5"},[r("div",{staticClass:"mb-10"},[r("p",{staticClass:"mb-1 text-h5"},[t._v("登山包")]),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"equipment",category:"backpacks"}}}},[r("span",{staticClass:"highlight overline"},[t._v("SHOP NOW→")])])],1),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"equipment",category:"backpacks"}}}},[r("v-img",{attrs:{"max-width":"400px",src:a("3098")}})],1)],1)]),r("v-col",{attrs:{cols:"12","data-aos":"fade-left","data-aos-duration":"700","data-aos-once":"true","data-aos-offset":"400"}},[r("div",{staticClass:"col-12 d-flex flex-column flex-sm-row align-center justify-sm-space-around bg-2 pa-10"},[r("div",{staticClass:"mb-10"},[r("p",{staticClass:"mb-1 text-h5"},[t._v("毛帽")]),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"equipment",category:"hat"}}}},[r("span",{staticClass:"highlight overline"},[t._v("SHOP NOW→")])])],1),r("router-link",{staticClass:"link",attrs:{to:{name:"Category",params:{navigation:"equipment",category:"hat"}}}},[r("v-img",{attrs:{"max-width":"200px",src:a("7dd2")}})],1)],1)])],1)],1),r("v-container",{staticClass:"my-15 mx-auto"},[r("div",{staticClass:"d-flex justify-center"},[r("h3",{staticClass:"ma-lg-5 mb-lg-15 mb-15 mx-5 px-5"},[r("span",{staticClass:"new-title text-h4 text-lg-h3 font-weight-bold highlight"},[t._v("品牌推薦")])])]),r("div",{staticClass:"d-flex justify-space-around flex-wrap",attrs:{"data-aos":"fade-up","data-aos-once":"true","data-aos-duration":"700","data-aos-offset":"300"}},[r("div",{staticClass:"col-4 col-sm-2 d-flex justify-center"},[r("router-link",{attrs:{to:{name:"Category",params:{navigation:"brand",category:"mammut"}}}},[r("img",{attrs:{width:"80%",src:a("ea4b")}})])],1),r("div",{staticClass:"col-4 col-sm-2 d-flex justify-center"},[r("router-link",{attrs:{to:{name:"Category",params:{navigation:"brand",category:"ARC'TERYX"}}}},[r("img",{attrs:{width:"80%",src:a("aa98")}})])],1),r("div",{staticClass:"col-4 col-sm-2 d-flex justify-center"},[r("router-link",{attrs:{to:{name:"Category",params:{navigation:"brand",category:"Fjallraven"}}}},[r("img",{attrs:{width:"80%",src:a("e650")}})])],1),r("div",{staticClass:"col-4 col-sm-2 d-flex justify-center"},[r("router-link",{attrs:{to:{name:"Category",params:{navigation:"brand",category:"LOWA"}}}},[r("img",{attrs:{width:"80%",src:a("7cbc")}})])],1),r("div",{staticClass:"col-4 col-sm-2 d-flex justify-center"},[r("router-link",{attrs:{to:{name:"Category",params:{navigation:"brand",category:"gregory"}}}},[r("img",{attrs:{width:"80%",src:a("0400")}})])],1)])]),r("Footer")],1)},w=[],I=a("d178"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-0 ma-0 vw-100"},[a("v-row",{staticClass:"justify-center"},[a("v-col",{staticClass:"col-lg-12 col-sm-12"},[a("ScrollItem",{attrs:{isLoading:t.isLoading,hotsales:t.newItem,display:"newItem"},on:{"update:isLoading":function(e){t.isLoading=e},"update:is-loading":function(e){t.isLoading=e}}})],1)],1)],1)},j=[],O=a("2c28"),V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("swiper",{staticClass:"swiper cursor",attrs:{options:t.swiperOptions}},[t.isLoading?t._l(8,(function(t){return r("v-col",{key:t,staticClass:"col-lg-2 col-md-4 px-1 py-0 mx-3 mb-10 d-flex justify-end border-bottom",attrs:{cols:"5"}},[r("v-skeleton-loader",{staticClass:"mb-3",attrs:{width:"100%",type:"image, article"}})],1)})):t._l(t.hotsales,(function(e){return r("swiper-slide",{key:e._id},[r("v-row",[r("v-col",{staticClass:"white-background vh-35 d-flex justify-center align-center pa-0 mr-sm-15 mb-3",attrs:{cols:"12"}},[r("v-img",{attrs:{"lazy-src":a("9c8a"),src:t.path+"/products/file/"+e.productImg[0].file,"max-height":"250px",contain:""}})],1),r("v-col",{staticClass:"vh-20 py-5 d-flex justify-center align-center flex-column",attrs:{cols:"12"}},[r("div",{staticClass:"overline mb-1 font-weight-bold"},[t._v(" "+t._s(e.brand)+" ")]),r("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" "+t._s(e.productName)+" ")]),r("v-list-item-subtitle",{staticClass:"primary--text"},[t._v("$"+t._s(e.price))]),r("div",[r("router-link",{staticClass:"seemore",attrs:{to:{name:"ProductDetail",params:{productId:e.p_id}}}},[r("span",{staticClass:"overline mb-1 font-weight-bold highlight"},[t._v(" see more ")])])],1)],1)],1)],1)}))],2)},R=[],L=a("7212"),D=a.n(L),S={props:["hotsales","display","isLoading"],name:"swiper-example-scrollbar",title:"Scrollbar",components:{Swiper:L["Swiper"],SwiperSlide:L["SwiperSlide"]},data:function(){return{path:"https://vue-hiker.herokuapp.com",swiperOptions:{slidesPerView:2,spaceBetween:50,centeredSlides:!0,pagination:{el:".swiper-pagination"},breakpoints:{568:{slidesPerView:2},768:{slidesPerView:2},1200:{spaceBetween:50,slidesPerView:6.5}}}}},mounted:function(){}},T=S,E=(a("6cd7"),a("62ad")),$=a("adda"),N=a("5d23"),P=a("0fd9"),A=a("3129"),B=Object(l["a"])(T,V,R,!1,null,"50aff654",null),q=B.exports;d()(B,{VCol:E["a"],VImg:$["a"],VListItemSubtitle:N["b"],VRow:P["a"],VSkeletonLoader:A["a"]});var H={components:{ScrollItem:q},data:function(){return{isLoading:!0,newItem:[]}},mounted:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["f"])();case 2:a=e.sent,t.newItem=a.data.result,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()}},F=H,M=(a("b1a9"),Object(l["a"])(F,k,j,!1,null,null,null)),Y=M.exports;d()(M,{VCol:E["a"],VRow:P["a"]});var U=a("fd2d"),z={name:"Home",components:{Navbar:I["a"],NewItem:Y,Footer:U["a"]},data:function(){return{slogan:["YOUR NEXT HIKING OUTFIT","YOUR NEXT HIKING OUTFIT","YOUR NEXT HIKING OUTFIT","YOUR NEXT HIKING OUTFIT","YOUR NEXT HIKING OUTFIT"],pictures:[{src:a("7963")},{src:a("5af3")},{src:a("57e9")},{src:a("16f5")},{src:a("8d07")}],slides:["YOUR NEXT HIKING OUTFIT","Second","Third","Fourth","Fifth"]}}},G=z,J=(a("5fa5"),a("5e66")),X=a("3e35"),K=a("a523"),W=Object(l["a"])(G,_,w,!1,null,"5020193c",null),Q=W.exports;d()(W,{VApp:m["a"],VCarousel:J["a"],VCarouselItem:X["a"],VCol:E["a"],VContainer:K["a"],VImg:$["a"],VRow:P["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("h3",[t._v("404 Not Found")])],1)},tt=[],et={components:{Navbar:I["a"]}},at=et,rt=Object(l["a"])(at,Z,tt,!1,null,null,null),st=rt.exports;d()(rt,{VApp:m["a"]});var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("v-row",{staticClass:"d-flex mx-5 flex",attrs:{id:"app"}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticClass:"mx-4 my-3 pa-0 d-flex justify-start align-center"},[a("h1",{staticClass:"ma-0 text-lg-h5 text-subtitle-1 words--text  font-weight-bold"},[t._v("商品列表")])]),a("hr",{staticClass:"my-0"})],1),a("div",{staticClass:"d-flex container justify-start mr-auto flex-wrap"},[a("div",{staticClass:"col-lg-3 col-6"},[a("v-select",{attrs:{items:t.items,label:"請選擇種類",color:"#FF5A17","validate-on-blur":""},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1),a("div",{staticClass:"mx-5 col-lg-3 col-1"},[a("v-btn",{attrs:{color:"words"},on:{click:function(e){t.showform=!0}}},[t._v(" + 新增商品 ")])],1)]),a("v-col",{attrs:{cols:"12"}},[t.isLoading?a("v-container",{staticClass:"progress"},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):t._e(),t.isLoading?t._e():a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.products,"footer-props":{"items-per-page-text":"每頁顯示數量"}},scopedSlots:t._u([{key:"item.display",fn:function(e){var r=e.item;return[a("div",{staticClass:"font-weight-bold",class:{"successGreen--text":r.display,"confirm--text":!r.display}},[t._v(" "+t._s(r.display?"上架":"未上架")+" ")])]}},{key:"item.productImg[0].file",fn:function(e){var r=e.item;return[a("div",{staticClass:"p-2"},[a("img",{attrs:{src:t.env+"/products/file/"+r.productImg[0].file,width:"100px"}})])]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("ProductForm",{attrs:{editItem:t.editedItem},on:{update:t.afterEditHandler,fileChange:t.fileChange}})],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("確定要刪除此產品?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"cancel"},on:{click:t.closeDelete}},[t._v("取消")]),a("v-btn",{attrs:{color:"confirm"},on:{click:t.deleteItemConfirm}},[t._v("確定")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var r=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"brightBlue"},on:{click:function(e){return t.editItem(r)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"brightRed"},on:{click:function(e){return t.deleteItem(r)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"}},[t._v(" Reset ")])]},proxy:!0}],null,!1,1494515909)})],1),a("transition",{attrs:{name:"fade"}},[a("v-dialog",{staticClass:"relative",attrs:{width:"600"},model:{value:t.showform,callback:function(e){t.showform=e},expression:"showform"}},[a("v-btn",{staticClass:"absolute_btn",attrs:{icon:"",fab:""},on:{click:function(e){e.stopPropagation(),t.showform=!1}}},[a("v-icon",{attrs:{color:"words"}},[t._v("mdi-close")])],1),a("ProductForm",{attrs:{editItem:t.defaultItem},on:{update:t.afterSumbitHandler}})],1)],1)],1)],1)},it=[],ot=(a("4de4"),a("c975"),a("99af"),a("4f96")),ct=function(t){return ot["a"].post("/admin/product",t)},lt=function(t,e){var a=t.productId;return ot["a"].patch("/admin/product/".concat(a),e)},ut=function(t){var e=t.productId;return ot["a"].delete("/admin/product/".concat(e))},dt=function(t){return ot["a"].post("/admin/mainpage/hotsale",t)},mt=function(t){var e=t.id;return ot["a"].delete("/admin/mainpage/hotsale/".concat(e))},pt=function(){return ot["a"].get("/admin/order/all")},ft=function(){return ot["a"].get("/products/all/comments")},vt=function(){return ot["a"].get("/products/all/questions")},gt=function(t,e){var a=t.productId,r=t.questionId;return ot["a"].post("/admin/".concat(a,"/question/reply?questionId=").concat(r),e)},ht=function(t,e){var a=t.userId,r=t.orderId;return ot["a"].patch("/admin/order/".concat(a,"?orderId=").concat(r),e)},bt=function(t,e){var a=t.productId,r=t.commentId;return ot["a"].patch("/admin/product/".concat(a,"/comment?commentId=").concat(r),e)},xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"formContainer rounded-b-lg"},[a("v-form",{attrs:{enctype:"multipart/form-data"}},[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10",sm:"8"}},[a("v-text-field",{attrs:{label:"商品名稱",required:""},model:{value:t.itemdetail.productName,callback:function(e){t.$set(t.itemdetail,"productName",e)},expression:"itemdetail.productName"}})],1),a("v-col",{attrs:{cols:"10",sm:"3"}},[a("v-select",{attrs:{label:"是否上架",required:"",items:t.display},model:{value:t.itemdetail.display,callback:function(e){t.$set(t.itemdetail,"display",e)},expression:"itemdetail.display"}})],1),a("v-col",{attrs:{cols:"10",sm:"4"}},[a("v-select",{attrs:{label:"品牌名稱",required:"",items:t.brandItems},model:{value:t.itemdetail.brand,callback:function(e){t.$set(t.itemdetail,"brand",e)},expression:"itemdetail.brand"}})],1),a("v-col",{attrs:{cols:"10",sm:"3"}},[a("v-select",{attrs:{label:"種類",required:"",items:t.navigationItems},model:{value:t.itemdetail.navigation,callback:function(e){t.$set(t.itemdetail,"navigation",e)},expression:"itemdetail.navigation"}})],1),a("v-col",{attrs:{cols:"10",sm:"4"}},[a("v-select",{attrs:{label:"類別",required:"",items:t.categoryItems},model:{value:t.itemdetail.category,callback:function(e){t.$set(t.itemdetail,"category",e)},expression:"itemdetail.category"}})],1),a("v-col",{attrs:{cols:"10",sm:"5"}},[a("v-text-field",{attrs:{label:"價格",required:""},model:{value:t.itemdetail.price,callback:function(e){t.$set(t.itemdetail,"price",e)},expression:"itemdetail.price"}})],1),a("v-col",{attrs:{cols:"10",sm:"5"}},[a("v-checkbox",{attrs:{label:"包含不同顏色及尺寸"},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}})],1),t.details.length?[a("v-col",{attrs:{cols:"10"}},[a("v-row",{staticClass:"py-0 col-12 d-flex justify-center border_bottom"},[a("v-col",{attrs:{cols:"2"}},[t._v("顏色")]),a("v-col",{attrs:{cols:"2"}},[t._v("尺寸")]),a("v-col",{attrs:{cols:"2"}},[t._v("庫存")]),a("v-col",{staticClass:"col-lg-2",attrs:{cols:"1"}},[t._v("修改")])],1),t._l(t.details,(function(e,r){return a("v-row",{key:r,staticClass:"py-0 col-12 d-flex justify-center"},[a("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.color))]),a("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.size))]),a("v-col",{attrs:{cols:"2"}},[t._v(t._s(e.inStock))]),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"outlineBtn",attrs:{"x-small":"",outlined:"",color:"primary"},on:{click:function(a){return t.removeHandler(e)}}},[t._v("移除")])],1)],1)}))],2)]:t._e(),t.checkbox?[a("v-col",{attrs:{cols:"10",sm:"3"}},[a("v-text-field",{attrs:{label:"顏色",required:""},model:{value:t.detail.color,callback:function(e){t.$set(t.detail,"color",e)},expression:"detail.color"}})],1),a("v-col",{attrs:{cols:"10",sm:"3"}},[a("v-text-field",{attrs:{label:"尺寸",required:""},model:{value:t.detail.size,callback:function(e){t.$set(t.detail,"size",e)},expression:"detail.size"}})],1),a("v-col",{attrs:{cols:"10",sm:"3"}},[a("v-text-field",{attrs:{label:"庫存",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addHandler(e)}},model:{value:t.detail.inStock,callback:function(e){t.$set(t.detail,"inStock",e)},expression:"detail.inStock"}})],1),a("v-col",{staticClass:"col-lg-2",attrs:{cols:"10"}},[a("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.addHandler}},[t._v(" 新增 ")])],1)]:[a("v-col",{attrs:{cols:"10",sm:"5"}},[a("v-text-field",{attrs:{label:"庫存",required:""},model:{value:t.itemdetail.inStock,callback:function(e){t.$set(t.itemdetail,"inStock",e)},expression:"itemdetail.inStock"}})],1)],a("v-col",{attrs:{cols:"10"}},[a("v-file-input",{attrs:{multiple:"",label:"上傳商品圖片"},on:{change:function(e){return t.filechangeHandler(e)}}})],1),t._l(t.itemdetail.urls,(function(e,r){return a("v-col",{key:e,staticClass:"d-flex mx-5 flex-wrap relative",attrs:{cols:"2"}},[a("v-img",{key:e,attrs:{src:e,"max-width":"100"}}),a("v-btn",{staticClass:"delBtn",attrs:{absolute:"",fab:"",dark:"",small:"",color:"primary","max-width":"20","max-height":"20"},on:{click:function(e){return t.delImg(r)}}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-close ")])],1)],1)})),a("v-col",{staticClass:"text-center",attrs:{cols:"10"}},[a("v-btn",t._g({staticClass:"width-80",attrs:{color:"primary",disabled:t.isLoading},on:{click:function(e){e.stopPropagation(),e.preventDefault(),"create"===t.itemdetail.status?t.submitHandler():t.editHandler()}}},t.on),[t._v(" "+t._s(t.isLoading?"送出中":"送出")+" ")])],1)],2)],1)],1)],1)},Ct=[],yt=(a("c740"),a("caad"),a("2532"),a("3ca3"),a("ddb0"),a("2b3d"),a("5530")),_t={props:{on:{type:Object},editItem:{type:Object,default:function(){return{_id:"",productName:"",brand:"",navigation:"",category:"",price:0,inStock:0,picture:"",status:"create",productImg:[],details:[],display:!0}}}},data:function(){return{isLoading:!1,checkbox:!1,itemdetail:{urls:[],productName:this.editItem.productName,brand:this.editItem.brand,navigation:this.editItem.navigation,category:this.editItem.category,price:this.editItem.price,inStock:this.editItem.inStock,status:this.editItem.status,productImg:this.editItem.productImg,details:this.editItem.details,display:this.editItem.display},detail:{size:"",color:"",inStock:""},brandItems:[],navigationItems:[],categoryItems:[],classificationData:[],details:[],display:[{text:"是",value:!0},{text:"否",value:!1}]}},methods:{fetchData:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["c"])();case 2:a=e.sent,a.data.success&&(t.classificationData=a.data.result,t.classificationData.forEach((function(e){t.navigationItems.push(e.navigation)})),t.brandItems=t.classificationData.filter((function(t){return"品牌"===t.navigation}))[0].category),t.setEditDetail();case 5:case"end":return e.stop()}}),e)})))()},setEditDetail:function(){var t=this;"edit"===this.itemdetail.status&&(this.categoryItems=this.classificationData.filter((function(e){return e.navigation===t.itemdetail.navigation}))[0].category,this.editItem.productImg.forEach((function(e){t.itemdetail.urls.push("https://vue-hiker.herokuapp.com/products/file/"+e.file)})))},filechangeHandler:function(t){if(t.length)for(var e=0;e<t.length;e++)t[e].size>1048576?this.$swal({icon:"error",title:"錯誤",text:"圖片太大"}):t[e].type.includes("image")?(this.itemdetail.productImg.push(t[e]),this.itemdetail.urls.push(URL.createObjectURL(t[e]))):this.$swal({icon:"error",title:"錯誤",text:"檔案格式錯誤"})},formHandler:function(){var t=new FormData;for(var e in this.itemdetail)"productImg"===e?this.itemdetail.productImg.forEach((function(e){t.append("image",e)})):"inStock"===e?t.append("inStock",this.itemdetail.inStock):t.append(e,this.itemdetail[e]),delete this.itemdetail.urls;if(this.checkbox)for(var a=0;a<this.details.length;a++)t.append("details[".concat(a,"]"),JSON.stringify(this.details[a]));return t},submitHandler:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.formHandler(),e.prev=1,t.isLoading=!0,e.next=5,ct(a);case 5:r=e.sent,r.data.success&&(t.$swal({icon:"success",iconColor:"#FF5A17",confirmButtonColor:"#356859",title:"上傳成功"}),t.isLoading=!1,t.itemdetail=Object(yt["a"])({},t.editItem),t.itemdetail.urls=[],t.itemdetail.productImg=[],t.$emit("update",r.data.result)),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),t.isLoading=!1,console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},editHandler:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.itemdetail.productImg=t.editItem.productImg,delete t.itemdetail.urls,e.prev=2,t.isLoading=!0,e.next=6,lt({productId:t.editItem._id},t.itemdetail);case 6:a=e.sent,a.data.success&&(t.isLoading=!1,t.$swal({icon:"success",iconColor:"brightGreen",confirmButtonColor:"words",title:"更新成功"}).then((function(e){t.$emit("update",t.itemdetail)}))),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),t.isLoading=!1,console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},delImg:function(t){this.itemdetail.urls.splice(t,1),this.itemdetail.productImg.splice(t,1),this.$emit("fileChange",t)},addHandler:function(){if(this.detail.color||this.detail.size){var t=Object(yt["a"])({},this.detail);this.details.push(t),this.detail.size="",this.detail.color="",this.detail.inStock=""}else this.$swal({icon:"error",confirmButtonColor:"words",text:"請填寫商品資訊"})},removeHandler:function(t){var e=this.details.findIndex((function(e){return e===t}));this.details.splice(e,1)}},watch:{editItem:function(t){var e=this;t.details?(this.checkbox=!0,this.details=this.editItem.details):(this.checkbox=!1,this.details=[]),this.itemdetail=t,this.itemdetail.urls=[],t.productImg&&t.productImg.forEach((function(t){e.itemdetail.urls.push("https://vue-hiker.herokuapp.com/products/file/"+t.file)}))},itemdetail:{handler:function(t){t.navigation&&(this.categoryItems=this.classificationData.filter((function(e){return e.navigation===t.navigation}))[0].category)},deep:!0}},mounted:function(){this.fetchData()}},wt=_t,It=(a("b230"),a("8336")),kt=a("ac7c"),jt=a("23a7"),Ot=a("4bd4"),Vt=a("132d"),Rt=a("b974"),Lt=a("8654"),Dt=Object(l["a"])(wt,xt,Ct,!1,null,null,null),St=Dt.exports;d()(Dt,{VBtn:It["a"],VCheckbox:kt["a"],VCol:E["a"],VContainer:K["a"],VFileInput:jt["a"],VForm:Ot["a"],VIcon:Vt["a"],VImg:$["a"],VRow:P["a"],VSelect:Rt["a"],VTextField:Lt["a"]});var Tt={components:{ProductForm:St},data:function(){return{env:"https://vue-hiker.herokuapp.com",showform:!1,absolute:!0,selection:"",dialog:!1,dialogDelete:!1,headers:[{text:"商品名稱",value:"productName"},{text:"品牌",value:"brand"},{text:"種類",value:"navigation"},{text:"類別",value:"category"},{text:"價格",value:"price"},{text:"上架",value:"display"},{text:"商品圖片",value:"productImg[0].file"},{text:"Actions",value:"actions",sortable:!1}],products:[],productData:[],editedIndex:-1,editedItem:{_v:0,_id:"",productName:"",brand:0,navigation:0,category:0,price:0,inStock:0,picture:0,status:"edit",productImg:[]},defaultItem:{productName:"",brand:"",navigation:"",category:"",price:0,inStock:0,picture:"",status:"create",productImg:[]},items:["全部","女款","男款","裝備"],isLoading:!0}},methods:{afterSumbitHandler:function(t){this.products.push(t),this.showform=!1,console.log(t)},afterEditHandler:function(t){this.$set(this.products,this.editedIndex,t),this.dialog=!1},editItem:function(t){this.editedIndex=this.products.indexOf(t),this.editedItem=Object.assign({},t,{status:"edit"}),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.products.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut({productId:t.editedItem._id});case 3:a=e.sent,a.data.success?(t.dialogDelete=!1,t.products.splice(t.editedIndex,1),t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1):t.$swal({icon:"error",title:"錯誤",text:a.data.message}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:e.t0.response.data.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},fileChange:function(t){this.products[this.editedIndex].productImg.splice(t,1)}},watch:{selection:function(t){this.products="全部"===t?this.productData:this.productData.filter((function(e){return e.navigation===t}))}},mounted:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O["i"])();case 3:a=e.sent,t.products=a.data.result,t.productData=a.data.result,t.isLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},Et=Tt,$t=(a("743b"),a("b0af")),Nt=a("99d9"),Pt=a("8fea"),At=a("169a"),Bt=a("490a"),qt=a("2fa4"),Ht=a("71d9"),Ft=Object(l["a"])(Et,nt,it,!1,null,null,null),Mt=Ft.exports;d()(Ft,{VApp:m["a"],VBtn:It["a"],VCard:$t["a"],VCardActions:Nt["a"],VCardTitle:Nt["d"],VCol:E["a"],VContainer:K["a"],VDataTable:Pt["a"],VDialog:At["a"],VIcon:Vt["a"],VProgressCircular:Bt["a"],VRow:P["a"],VSelect:Rt["a"],VSpacer:qt["a"],VToolbar:Ht["a"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-row",{staticClass:"d-flex mx-5 flex",attrs:{id:"app"}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticClass:"mx-4 my-3 pa-0 d-flex justify-start align-center"},[a("h1",{staticClass:"ma-0 text-lg-h5 text-subtitle-1 words--text  font-weight-bold"},[t._v("訂單管理")])]),a("hr",{staticClass:"my-0"})],1),a("v-col",{staticClass:"d-flex flex-column justify-start align-start",attrs:{cols:"12"}},[a("div",[a("v-select",{attrs:{items:t.items,label:"排序依據","validate-on-blur":""},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1),t.isLoading?a("v-container",{staticClass:"progress"},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):t._l(t.orders,(function(t){return a("OrderManage",{key:t.orders[0]._id,attrs:{userData:t}})}))],2)],1)],1)},Ut=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.orders.length?a("v-card",{staticClass:"d-flex align-center flex-wrap",attrs:{width:"100%",outlined:""}},[a("v-col",{staticClass:"col-md-2 d-flex flex-column align-center justify-center flex-wrap",attrs:{cols:"12"}},[a("div",{staticClass:"overline"},[t._v("使用者ID")]),a("div",{staticClass:"overline"},[t._v(t._s(t.userData._id.slice(-8)))])]),a("v-col",{staticClass:"col-md-10",attrs:{cols:"12"}},t._l(t.orders,(function(e){return a("OrderManageCard",{key:e._id,attrs:{order:e,userId:t.userData._id}})})),1)],1):t._e()},Gt=[],Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto d-flex align-center",attrs:{outlined:""}},[a("v-col",{staticClass:"d-flex align-center justify-space-between flex-wrap",attrs:{cols:"12"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline"},[t._v(t._s(t.getTime(t.order.date)))])]),a("v-col",{staticClass:"col-sm-6 col-md-5 col-lg-5 d-flex align-center justify-space-around",attrs:{cols:"12"}},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"overline mb-1"},[t._v("訂單編號")]),a("router-link",{attrs:{to:{name:"AdminOrderDetail",params:{orderId:t.order._id,userId:t.userId}},target:"_blank"}},[a("div",{staticClass:"overline mb-1"},[t._v(" "+t._s(t.order._id.slice(-8)))])])],1),a("div",{staticClass:"overline mb-1"},[t._v(" "+t._s(t.order.products.length)+"件商品")]),a("div",{staticClass:"overline mb-1"},[t._v(" $"+t._s(t.order.payment.totalPrice))])]),a("v-col",{staticClass:"py-0 col-sm-3 col-md-3 col-lg-3 d-flex flex-lg-column justify-center align-center flex-lg-row",attrs:{cols:"12"}},[a("div",{staticClass:"overline text-wrap mx-2"},[t._v(t._s(t.order.payment.delivery))]),a("div",{staticClass:"overline text-wrap mx-2"},[t._v(t._s(t.order.payment.payment))])]),a("v-col",{staticClass:"py-0 col-sm-6 col-md-4 col-lg-4 d-flex flex-wrap justify-center align-center",attrs:{cols:"12"}},[t.edit?a("div",{staticClass:"col-7 overline mb-1"},[t._v("狀態: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"處理中"}},[t._v("處理中")]),a("option",{attrs:{value:"配送中"}},[t._v("配送中")]),a("option",{attrs:{value:"已完成"}},[t._v("已完成")])])]):a("div",{staticClass:"col-7 overline mb-1 font-weight-bold",class:{"confirm--text":"處理中"===t.order.status,"successBlue--text":"配送中"===t.order.status,"successGreen--text":"已完成"===t.order.status}},[t._v("狀態: "+t._s(t.order.status))]),a("div",{staticClass:"mx-lg-5 col-7"},[t.edit?[a("v-snackbar",{attrs:{centered:""},model:{value:t.updating,callback:function(e){t.updating=e},expression:"updating"}},[t._v(" 更新中... ")]),a("v-btn",{staticClass:"edit_btn mx-lg-1 my-1",attrs:{outlined:"",small:"",color:"primary"},on:{click:t.cancel}},[t._v(" 取消 ")]),a("v-btn",{staticClass:"edit_btn mx-lg-1 my-1",attrs:{outlined:"",small:"",color:"primary",disabled:t.updating},on:{click:t.update}},[t._v(" "+t._s(t.updating?"更新中":"更新")+" ")])]:[a("v-btn",{staticClass:"edit_btn",attrs:{outlined:"",small:"",color:"primary"},on:{click:t.changeStatus}},[t._v(" 更新狀態 ")])]],2)])],1)],1)},Xt=[],Kt=a("5a0c"),Wt=a.n(Kt),Qt={props:["order","userId"],data:function(){return{edit:!1,status:"",isLoading:!0,updating:!1}},methods:{getTime:function(t){return Wt()(t).format("YYYY/MM/DD HH:mm")},changeStatus:function(){this.edit=!0},cancel:function(){this.status=this.order.status,this.edit=!1},update:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.updating=!0,a={status:t.status,handleStatus:""},"已完成"===t.status?a.handleStatus="finish":a.handleStatus="process",e.next=5,ht({userId:t.userId,orderId:t.order._id},a);case 5:r=e.sent,200===r.status&&(t.updating=!1,t.$swal({icon:"success",title:"更新成功"}).then((function(){t.order.status=t.status,t.edit=!1})));case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.status=this.order.status}},Zt=Qt,te=(a("1a73"),a("2db4")),ee=Object(l["a"])(Zt,Jt,Xt,!1,null,null,null),ae=ee.exports;d()(ee,{VBtn:It["a"],VCard:$t["a"],VCol:E["a"],VSnackbar:te["a"]});var re={props:["userData"],components:{OrderManageCard:ae},data:function(){return{}},computed:{orders:function(){return this.userData.orders.filter((function(t){return t.checkoutStatus}))}},methods:{},mounted:function(){}},se=re,ne=Object(l["a"])(se,zt,Gt,!1,null,null,null),ie=ne.exports;d()(ne,{VCard:$t["a"],VCol:E["a"]});var oe={components:{OrderManage:ie},data:function(){return{userDatas:[],items:["使用者","訂單成立時間(由新至舊)","訂單狀態"],selection:"使用者",isLoading:!0}},computed:{orders:function(){var t=[];if("使用者"===this.selection)t=this.userDatas;else if(this.userDatas.forEach((function(e){e.orders.forEach((function(a){t.push({_id:e._id,orders:[a]})}))})),"訂單成立時間(由新至舊)"===this.selection)t.sort((function(t,e){return new Date(e.orders[0].date)-new Date(t.orders[0].date)}));else{var e={"處理中":1,"配送中":2,"已完成":3};t.sort((function(t,a){return e[t.orders[0].status]-e[a.orders[0].status]}))}return t}},methods:{fetchData:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt();case 2:a=e.sent,t.userDatas=a.data.userOrder,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.fetchData()}},ce=oe,le=(a("386d"),Object(l["a"])(ce,Yt,Ut,!1,null,null,null)),ue=le.exports;d()(le,{VApp:m["a"],VCol:E["a"],VContainer:K["a"],VProgressCircular:Bt["a"],VRow:P["a"],VSelect:Rt["a"]});var de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-row",{staticClass:"d-flex mx-5 flex",attrs:{id:"app"}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticClass:"pa-0 ma-0 d-flex justify-start align-center"},[a("h1",{staticClass:"mx-4 ma-0 text-lg-h5 text-subtitle-1 words--text  font-weight-bold"},[t._v("評論管理")]),a("router-link",{staticClass:"nav_link",attrs:{to:{name:"Reviews",params:{type:"comment"}}}},[a("div",{staticClass:"text-lg-subtitle-1 text-subtitle-2 headline pa-3 text-wrap nav"},[t._v("評論")])]),a("router-link",{staticClass:"nav_link",attrs:{to:{name:"Reviews",params:{type:"question"}}}},[a("div",{staticClass:"text-lg-subtitle-1 text-subtitle-2 headline pa-3 text-wrap nav"},[t._v("問題")])])],1),a("hr",{staticClass:"my-0"})],1),a("v-col",{staticClass:"d-flex flex-column justify-start align-start",attrs:{cols:"12"}},[a("router-view")],1)],1)],1)},me=[],pe={data:function(){return{}},methods:{},mounted:function(){}},fe=pe,ve=(a("70b9"),Object(l["a"])(fe,de,me,!1,null,null,null)),ge=ve.exports;d()(ve,{VApp:m["a"],VCol:E["a"],VRow:P["a"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.isLoading?a("v-container",{staticClass:"d-flex justify-center"},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):t.orders.length?t._l(t.orders,(function(e){return a("v-card",{key:e._id,staticClass:"mx-auto d-flex align-center",attrs:{outlined:""}},[a("v-col",{staticClass:"d-flex align-center justify-space-between flex-wrap",attrs:{cols:"12"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline"},[t._v(t._s(t.getTime(e.date)))])]),a("v-col",{staticClass:"col-sm-6 d-flex justify-space-around",attrs:{cols:"12"}},[a("router-link",{attrs:{to:{name:"OrderDetail",params:{status:t.status,orderId:e._id}}}},[a("div",{staticClass:"overline mb-1"},[t._v(" "+t._s(e._id.slice(-8)))])]),a("div",{staticClass:"overline mb-1"},[t._v(" "+t._s(e.products.length)+"件商品")]),a("div",{staticClass:"overline mb-1"},[t._v(" $"+t._s(e.payment.totalPrice))])],1),a("v-col",{staticClass:"py-0 col-sm-6 d-flex justify-end justify-sm-space-around",attrs:{cols:"12"}},[a("div",{staticClass:"text-subtitle-1 headline text-wrap mx-2"},[t._v(t._s(e.payment.delivery))]),a("div",{staticClass:"text-subtitle-1 headline text-wrap mx-2"},[t._v(t._s(e.payment.payment))])])],1)],1)})):a("div",{staticClass:"d-flex justify-center"},[a("p",[t._v("目前沒有訂單")])])],2)},be=[],xe={data:function(){return{env:"https://vue-hiker.herokuapp.com",orders:[],isLoading:!0,status:""}},computed:{user:function(){return this.$store.state.user}},methods:{getTime:function(t){return Wt()(t).format("YYYY/MM/DD")},fetchData:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["f"])({userId:e.user.id,orderStatus:t});case 2:r=a.sent,"沒有訂單"===r.data.message?e.orders=[]:e.orders=r.data.orderList,e.isLoading=!1;case 5:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this.$route.params.status;this.status=t,this.fetchData(t)},beforeRouteUpdate:function(t,e,a){var r=t.params.status;this.status=r,this.fetchData(r),a()}},Ce=xe,ye=(a("7046"),Object(l["a"])(Ce,he,be,!1,null,null,null)),_e=ye.exports;d()(ye,{VCard:$t["a"],VCol:E["a"],VContainer:K["a"],VProgressCircular:Bt["a"]});var we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?t._e():a("v-row",[a("v-col",{staticClass:"col-md-6",attrs:{cols:"12"}},t._l(t.products,(function(t){return a("PopUpCard",{key:t._id,attrs:{product:t}})})),1),a("v-col",{staticClass:"col-md-6 d-flex flex-column justify-start flex",attrs:{cols:"12"}},[a("v-col",[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400",width:"100%",flat:""}},[a("v-app-bar",{attrs:{color:"transparent",flat:"",outlined:""}},[a("v-toolbar-title",[t._v("運送資料")])],1),a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-row",[a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text mr-auto"},[t._v(" 運送方式 ")]),a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text"},[t._v(t._s(t.order.payment.delivery))])],1),a("v-row",[a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text mr-auto"},[t._v(" 收件人 ")]),a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text"},[t._v(t._s(t.order.payment.receiver))])],1),a("v-row",[a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text mr-auto"},[t._v(" 手機 ")]),a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text"},[t._v(t._s(t.order.payment.phone))])],1),a("v-row",[a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text mr-auto"},[t._v(" 收件地點(門市) ")]),a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text"},[t._v(t._s(t.order.payment.address))])],1)],1)],1)],1)],1)],1)],1),a("v-col",[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"400",width:"100%",flat:""}},[a("v-app-bar",{attrs:{color:"transparent",flat:"",outlined:""}},[a("v-toolbar-title",[t._v("付款資訊")])],1),a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-row",[a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text mr-auto"},[t._v(" 付款方式 ")]),a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text"},[t._v(t._s(t.order.payment.payment))])],1),a("v-row",[a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text mr-auto"},[t._v(" 付款金額 ")]),a("v-card-subtitle",{staticClass:"text-subtitle-1 primary--text"},[t._v("$"+t._s(t.order.payment.totalPrice))])],1)],1)],1)],1)],1)],1)],1)],1)],1)},Ie=[],ke=a("17f8"),je={props:["orderId"],components:{PopUpCard:ke["a"]},data:function(){return{isLoading:!0,order:{},products:[]}},computed:Object(yt["a"])({},Object(h["c"])(["user"])),methods:{fetchData:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r={},"admin"!==e.user.role){a.next=7;break}return a.next=4,Object(i["e"])({userId:t.userId,orderId:t.orderId});case 4:r=a.sent,a.next=10;break;case 7:return a.next=9,Object(i["e"])({userId:e.user.id,orderId:t.orderId});case 9:r=a.sent;case 10:e.order=r.data.orderList,e.order.products.forEach(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(O["h"])({productId:a.productId});case 2:r=t.sent,s=r.data.result[0],s.quantity=a.quantity,e.products.push(s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.isLoading=!1;case 13:case"end":return a.stop()}}),a)})))()}},mounted:function(){if("admin"===this.user.role){var t=this.$route.params,e=t.userId,a=t.orderId;this.fetchData({userId:e,orderId:a})}else{var r=this.$route.params.orderId;this.fetchData({orderId:r})}},beforeRouteUpdate:function(t,e,a){if("admin"===this.user.role){var r=t.params,s=r.userId,n=r.orderId;this.fetchData({userId:s,orderId:n})}else{var i=t.params.orderId;this.fetchData({orderId:i})}a()}},Oe=je,Ve=a("40dc"),Re=a("2a7f"),Le=Object(l["a"])(Oe,we,Ie,!1,null,null,null),De=Le.exports;d()(Le,{VAppBar:Ve["a"],VCard:$t["a"],VCardSubtitle:Nt["b"],VCol:E["a"],VContainer:K["a"],VRow:P["a"],VToolbarTitle:Re["a"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?t._e():a("v-container",t._l(t.products,(function(e){return a("v-card",{key:e._id,staticClass:"d-flex align-center flex-wrap",attrs:{width:"100%",outlined:""}},[a("v-col",{staticClass:"col-md-2 d-flex flex-column align-center justify-center flex-wrap",attrs:{cols:"12"}},[a("v-col",{staticClass:"col-lg-10",attrs:{cols:"8"}},[a("router-link",{attrs:{to:{name:"ProductDetail",params:{productId:e._id}}}},[a("v-img",{attrs:{src:t.env+"/products/file/"+e.productImg[0].file}})],1)],1),a("div",{staticClass:"overline"},[t._v(t._s(e.brand))]),a("div",{staticClass:"overline text-center"},[t._v(t._s(e.productName))])],1),a("v-col",{staticClass:"col-md-10",attrs:{cols:"12"}},[t._l(e.comments,(function(t){return a("ReviewManageCard",{key:t._id,attrs:{comment:t,productId:e._id}})})),t._l(e.questions,(function(t){return a("QuestionManageCard",{key:t._id,attrs:{question:t,productId:e._id}})}))],2)],1)})),1)},Te=[],Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto d-flex align-center",attrs:{outlined:""}},[a("v-col",{staticClass:"d-flex align-center justify-space-between flex-wrap",attrs:{cols:"12"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline"},[t._v(t._s(t.getTime(t.comment.releaseDate)))])]),a("v-col",{staticClass:"d-flex align-center justify-center justify-lg-start flex-wrap",attrs:{cols:"12"}},[a("div",{staticClass:"d-flex flex-column col-5 col-lg-2"},[a("div",{staticClass:"overline mb-1"},[t._v("使用者ID")]),a("div",{staticClass:"overline mb-1"},[t._v(t._s(t.comment.u_id.slice(-8)))])]),a("div",{staticClass:"d-flex justify-start overline mb-1 col-7 col-lg-3"},[a("v-rating",{attrs:{value:t.comment.star,"background-color":"primary lighten-3",color:"primary",size:"15","half-increments":"",readonly:""}})],1),a("div",{staticClass:"overline mb-1 col-6 col-lg-3"},[t._v(" "+t._s(t.comment.title))]),a("div",{staticClass:"overline mb-1 col-6 col-lg-4"},[t._v(" "+t._s(t.comment.message))])]),a("v-col",{staticClass:"col-lg-6 d-flex justify-start align-center",attrs:{cols:"12"}},[a("v-snackbar",{attrs:{centered:""},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t._v(" 更新中... ")]),a("div",{staticClass:"mx-5"},[t._v(" 顯示狀態: "+t._s(t.comment.display?"顯示":"不顯示")+" ")]),a("v-btn",{staticClass:"mx-3",attrs:{disabled:!t.comment.display,icon:""},on:{click:function(e){return t.displayHandler(!1)}}},[a("v-icon",{attrs:{color:"confirm"}},[t._v(" mdi-cancel ")])],1),a("v-btn",{attrs:{disabled:t.comment.display,small:"",color:"confirm"},on:{click:function(e){return t.displayHandler(!0)}}},[t._v(" 恢復顯示 ")])],1)],1)],1)},$e=[],Ne={props:["comment","productId"],data:function(){return{isLoading:!1}},methods:{getTime:function(t){return Wt()(t).format("YYYY/MM/DD")},displayHandler:function(t){var e=this;t?this.$swal.fire({reverseButtons:!0,text:"確定要恢復此評論?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ed5e68",cancelButtonColor:"#8388a4",cancelButtonText:"取消",confirmButtonText:"確定"}).then(function(){var a=Object(g["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=6;break}return e.isLoading=!0,a.next=4,bt({productId:e.productId,commentId:e.comment._id},{display:t});case 4:e.isLoading=!1,e.comment.display=t;case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()):this.$swal.fire({reverseButtons:!0,text:"確定要禁用此評論?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ed5e68",cancelButtonText:"取消",cancelButtonColor:"#8388a4",confirmButtonText:"確定"}).then(function(){var a=Object(g["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=6;break}return e.isLoading=!0,a.next=4,bt({productId:e.productId,commentId:e.comment._id},{display:t});case 4:e.isLoading=!1,e.comment.display=t;case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())}},mounted:function(){}},Pe=Ne,Ae=(a("a94e"),a("1d4d")),Be=Object(l["a"])(Pe,Ee,$e,!1,null,null,null),qe=Be.exports;d()(Be,{VBtn:It["a"],VCard:$t["a"],VCol:E["a"],VIcon:Vt["a"],VRating:Ae["a"],VSnackbar:te["a"]});var He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto d-flex align-center",attrs:{outlined:""}},[a("v-col",{staticClass:"d-flex align-center justify-space-between flex-wrap",attrs:{cols:"12"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline"},[t._v(t._s(t.getTime(t.question.releaseDate)))])]),a("v-col",{staticClass:"d-flex align-center justify-center justify-lg-start flex-wrap",attrs:{cols:"12"}},[a("div",{staticClass:"overline mb-1 col-6 col-lg-2"},[t._v(" "+t._s(t.question.userName))]),a("div",{staticClass:"overline mb-1 col-6 col-lg-4"},[t._v(" Q : "+t._s(t.question.message))]),a("div",{staticClass:" col-12 col-lg-6 d-flex flex-wrap align-center"},[a("div",{staticClass:"overline col-12"},[t._v(" 回覆狀態 : ")]),t.question.reply?[a("div",{staticClass:"overline mb-1 col-lg-12"},[t._v(t._s(t.question.reply))]),a("div",{staticClass:"overline mb-1 col-lg-12"},[t._v(t._s(t.getTime(t.question.replyDate)))])]:[a("div",{staticClass:"overline mx-5"},[t._v("尚未回覆")]),t.reply?t._e():a("div",[a("v-btn",{staticClass:"reply_btn",attrs:{small:"",outlined:"",color:"sideabr"},on:{click:function(e){t.reply=!0}}},[t._v(" 回覆問題 ")])],1),t.reply?[a("div",{staticClass:"d-flex flex-column align-end"},[a("v-textarea",{attrs:{label:"回覆",outlined:"",clearable:""},model:{value:t.replyMessage,callback:function(e){t.replyMessage=e},expression:"replyMessage"}}),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"reply_btn mx-3",attrs:{small:"",outlined:"",color:"sideabr"},on:{click:function(e){t.reply=!1}}},[t._v(" 取消 ")]),a("v-btn",{staticClass:"reply_btn",attrs:{small:"",outlined:"",color:"sideabr"},on:{click:t.submitHandler}},[t._v(" 送出 ")])],1)],1)]:t._e()]],2)])],1)],1)},Fe=[],Me={props:["question","productId"],data:function(){return{reply:!1,replyMessage:""}},methods:{getTime:function(t){return Wt()(t).format("YYYY/MM/DD")},submitHandler:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.replyMessage){e.next=4;break}alert("請填寫完整回覆"),e.next=9;break;case 4:return e.next=6,gt({productId:t.productId,questionId:t.question._id},{reply:t.replyMessage});case 6:a=e.sent,console.log(a),a.data.success&&(t.question.reply=t.replyMessage,t.question.replyDate=Date.now(),t.replyMessage="",t.reply=!1);case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){}},Ye=Me,Ue=(a("7bfe"),a("a844")),ze=Object(l["a"])(Ye,He,Fe,!1,null,null,null),Ge=ze.exports;d()(ze,{VBtn:It["a"],VCard:$t["a"],VCol:E["a"],VTextarea:Ue["a"]});var Je={components:{ReviewManageCard:qe,QuestionManageCard:Ge},data:function(){return{isLoading:!0,products:[],env:"https://vue-hiker.herokuapp.com"}},methods:{fetchData:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=[],"comment"!==t){a.next=8;break}return a.next=4,ft();case 4:r=a.sent,e.products=r.data.comments,a.next=12;break;case 8:return a.next=10,vt();case 10:r=a.sent,e.products=r.data.questions;case 12:e.isLoading=!1;case 13:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this.$route.params.type;this.fetchData(t)},beforeRouteUpdate:function(t,e,a){var r=t.params.type;this.fetchData(r),a()}},Xe=Je,Ke=Object(l["a"])(Xe,Se,Te,!1,null,null,null),We=Ke.exports;d()(Ke,{VCard:$t["a"],VCol:E["a"],VContainer:K["a"],VImg:$["a"]});var Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"d-flex mx-5 flex",attrs:{id:"app"}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticClass:"mx-4 my-3 pa-0 d-flex justify-start align-center"},[a("h1",{staticClass:"ma-0 text-lg-h5 text-subtitle-1 words--text  font-weight-bold"},[t._v("首頁管理")])]),a("hr",{staticClass:"my-0"})],1),a("v-col",{staticClass:"d-flex flex-column justify-start align-start",attrs:{cols:"12"}},[a("v-row",{staticClass:"mx-4 my-3 pa-0 d-flex justify-start align-center"},[a("h1",{staticClass:"ma-0 text-lg-h5 text-subtitle-1 words--text  font-weight-bold"},[t._v("新品上市")]),a("v-btn",{staticClass:"mx-15",attrs:{small:"",color:"words"},on:{click:function(e){t.hotsaleForm=!0}}},[t._v(" + 新增 ")])],1),t.isLoading?a("v-container",{staticClass:"progress"},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-row",t._l(t.hotsales,(function(e){return a("v-col",{key:e._id,staticClass:"d-flex flex-column align-center col-lg-3",attrs:{cols:"6"}},[a("ProductCard",{attrs:{product:e}}),a("v-btn",{attrs:{small:"",color:"converse"},on:{click:function(a){return t.removeHandler(e)}}},[t._v(" 移除 ")])],1)})),1)],1),a("transition",{attrs:{name:"fade"}},[a("v-dialog",{staticClass:"relative",attrs:{width:"600"},model:{value:t.hotsaleForm,callback:function(e){t.hotsaleForm=e},expression:"hotsaleForm"}},[a("v-btn",{staticClass:"absolute_btn",attrs:{icon:"",fab:""},on:{click:function(e){e.stopPropagation(),t.hotsaleForm=!1}}},[a("v-icon",{attrs:{color:"words"}},[t._v("mdi-close")])],1),a("hotsaleForm",{attrs:{hotsales:t.hotsales},on:{update:t.afterSumbitHandler}})],1)],1)],1)},Ze=[],ta=a("e915"),ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"formContainer rounded-b-lg pa-15"},[a("v-select",{attrs:{items:t.brands,label:"依品牌搜尋"},model:{value:t.selectedBrand,callback:function(e){t.selectedBrand=e},expression:"selectedBrand"}}),t._l(t.products,(function(e){return a("v-row",{key:e._id,staticClass:"align-center justify-end justify-lg-start"},[a("v-col",{staticClass:"col-lg-10",attrs:{cols:"12"}},[a("PopUpCard",{attrs:{product:e}})],1),a("v-col",{staticClass:"col-lg-2",attrs:{cols:"4"}},[a("v-btn",{attrs:{small:"",disabled:e.inList,color:"converse"},on:{click:function(a){return t.addHandler(e)}}},[t._v(" 加入 ")])],1)],1)}))],2)},aa=[],ra={props:["hotsales"],components:{PopUpCard:ke["a"]},data:function(){return{isLoading:!0,brands:[],selectedBrand:"",productData:[]}},computed:{products:function(){var t=this;return this.productData.filter((function(e){return e.brand===t.selectedBrand}))}},methods:{setBrand:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["c"])();case 2:a=e.sent,t.brands=a.data.result.filter((function(t){return"品牌"===t.navigation}))[0].category;case 4:case"end":return e.stop()}}),e)})))()},setProduct:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["i"])();case 2:a=e.sent,t.productData=a.data.result,t.hotsales.forEach((function(e){var a=t.productData.find((function(t){return t._id===e.p_id}));a.inList=!0}));case 5:case"end":return e.stop()}}),e)})))()},fetchData:function(){this.setBrand(),this.setProduct(),this.isLoading=!1},addHandler:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,dt({_id:t._id});case 2:r=a.sent,r.data.success&&e.$emit("update",r.data.result);case 4:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.fetchData()}},sa=ra,na=Object(l["a"])(sa,ea,aa,!1,null,null,null),ia=na.exports;d()(na,{VBtn:It["a"],VCol:E["a"],VContainer:K["a"],VRow:P["a"],VSelect:Rt["a"]});var oa={components:{ProductCard:ta["a"],hotsaleForm:ia},data:function(){return{isLoading:!0,hotsales:[],hotsaleForm:!1}},methods:{fetchData:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["f"])();case 2:a=e.sent,t.hotsales=a.data.result,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},afterSumbitHandler:function(t){this.hotsales.push(t),this.hotsaleForm=!1},removeHandler:function(t){var e=this;this.$swal.fire({title:"確定要將此產品從新品中移除?",icon:"warning",showCancelButton:!0,cancelButtonColor:"#8388a4",confirmButtonColor:"#ed5e68",cancelButtonText:"取消",confirmButtonText:"確定"}).then(Object(g["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.hotsales.findIndex((function(e){return e._id===t._id})),console.log(r),a.next=4,mt({id:t._id});case 4:e.hotsales.splice(r,1);case 5:case"end":return a.stop()}}),a)}))))}},mounted:function(){this.fetchData()}},ca=oa,la=Object(l["a"])(ca,Qe,Ze,!1,null,null,null),ua=la.exports;d()(la,{VBtn:It["a"],VCol:E["a"],VContainer:K["a"],VDialog:At["a"],VIcon:Vt["a"],VProgressCircular:Bt["a"],VRow:P["a"]});var da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?t._e():a("v-container",[a("v-card",{staticClass:"mx-auto d-flex justify-center align-center",attrs:{outlined:"",width:"100%"}},[a("v-row",{staticClass:"col-12 col-lg-6"},[a("v-col",{staticClass:"d-flex justify-center mb-10",attrs:{cols:"12"}},[a("div",[a("v-icon",{attrs:{size:"80"}},[t._v(" mdi-account-circle-outline ")])],1)]),a("v-col",{staticClass:"d-flex flex-wrap justify-center pa-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline font-weight-bold col-10"},[a("span",{staticClass:"highlight"},[t._v("帳號")])]),a("div",{staticClass:"overline col-8"},[t._v(" "+t._s(t.userinfo.username))])]),a("v-col",{staticClass:"d-flex flex-wrap justify-center pa-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline font-weight-bold col-10"},[a("span",{staticClass:"highlight"},[t._v("電子信箱")])]),a("div",{staticClass:"overline col-8"},[t._v(" "+t._s(t.userinfo.email))])]),a("v-col",{staticClass:"d-flex flex-wrap justify-center pa-0",attrs:{cols:"12"}},[a("div",{staticClass:"overline font-weight-bold col-10"},[a("span",{staticClass:"highlight"},[t._v("加入日期")])]),a("div",{staticClass:"overline col-8"},[t._v(" "+t._s(t.getTime(t.userinfo.joinDate)))])])],1)],1)],1)},ma=[],pa={data:function(){return{isLoading:!1,userName:"",email:"",nameRules:[function(t){return!!t||""},function(t){return t.length<=10||"使用者名稱不得超過10個字"}],emailRules:[function(t){return!!t||""},function(t){return/.+@.+/.test(t)||"請輸入正確的E-mail格式"}],userinfo:{username:"",email:"",joinDate:""},edit:!1}},computed:{user:function(){return this.$store.state.user}},methods:{fetchData:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["g"])({userId:t.user.id});case 2:a=e.sent,r=a.data.result,t.userinfo={username:r.username,email:r.email,joinDate:r.joinDate},t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},getTime:function(t){return Wt()(t).format("YYYY/MM/DD")}},mounted:function(){this.fetchData()}},fa=pa,va=(a("1be2"),Object(l["a"])(fa,da,ma,!1,null,null,null)),ga=va.exports;d()(va,{VCard:$t["a"],VCol:E["a"],VContainer:K["a"],VIcon:Vt["a"],VRow:P["a"]}),r["default"].use(v["a"]);var ha={isAdmin:function(t,e,a){var r=y.state.user;r.id&&"admin"!==r.role?a({name:"NotFound"}):r||a({name:"Login"}),a()},isUser:function(t,e,a){var r=y.state.user;r.id&&"user"!==r.role?a({name:"NotFound"}):r.id||a({name:"Login"}),a()},isConfirmCheckout:function(t,e,a){var r=y.state.user,s=y.state.processCheckout;r.id&&!s?a({name:"Cart"}):r||a({name:"Login"}),a()}},ba=[{path:"/",name:"Home",component:Q},{path:"/cart",name:"Cart",component:function(){return a.e("about").then(a.bind(null,"b789"))}},{path:"/user",name:"UserProfile",component:function(){return a.e("about").then(a.bind(null,"4a39"))},beforeEnter:ha.isUser,children:[{path:"purchase/:status",name:"Purchase",component:_e},{path:"purchase/:status/:orderId",name:"OrderDetail",component:De},{path:"profile",name:"Profile",component:ga}]},{path:"/checkout",name:"Checkout",component:function(){return a.e("about").then(a.bind(null,"7cb4"))},beforeEnter:ha.isConfirmCheckout},{path:"/navigation/:navigation",name:"Navigation",component:function(){return a.e("Navigation").then(a.bind(null,"74ae"))}},{path:"/products/:navigation/:category",name:"Category",component:function(){return a.e("Category").then(a.bind(null,"4886"))}},{path:"/products/:productId",name:"ProductDetail",component:function(){return a.e("ProductDetail").then(a.bind(null,"5f47"))}},{path:"/register",name:"Register",component:function(){return a.e("Register").then(a.bind(null,"73cf"))}},{path:"/login",name:"Login",component:function(){return a.e("Login").then(a.bind(null,"a55b"))}},{path:"/admin",component:function(){return a.e("Admin").then(a.bind(null,"3cc5"))},beforeEnter:ha.isAdmin,children:[{path:"",name:"Admin",component:function(){return a.e("Admin").then(a.bind(null,"3cc5"))}},{path:"product-management",name:"product-management",component:Mt},{path:"order-management",name:"order-management",component:ue},{path:"user/:userId/order/:orderId",name:"AdminOrderDetail",component:De},{path:"mainpage-management",name:"mainpage-management",component:ua},{path:"review-management",component:ge,children:[{path:"",name:"review-management",component:We},{path:":type",name:"Reviews",component:We}]}]},{path:"*",redirect:"/"},{path:"/404",name:"NotFound",component:st}],xa=new v["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:ba}),Ca=xa,ya=a("f309");r["default"].use(ya["a"]);var _a=new ya["a"]({theme:{options:{customProperties:!0},themes:{light:{white:"#fff",primary:"#333",secondary:"#fff",gray:"#f3f3f3",brightGray:"#4a4a4a",darkGray:"#cfdbd5",converse:"#9eb091",words:"#656565",sidebar:"#EFECE8",bright:"#FF5A17",brightYellow:"#f7f056",brightRed:"#e76f51",brightBlue:"#457b9d",brightGreen:"#bef264",help:"#4cc9f0",confirm:"#ed5e68",successGreen:"#7bd088",successBlue:"#4cbaff",cancel:"#8388a4"}}}}),wa=a("5886"),Ia=a("f5af"),ka=a.n(Ia),ja=(a("e829"),a("bc3a")),Oa=a.n(ja),Va=a("2106"),Ra=a.n(Va),La=a("a584"),Da=a("6d3b"),Sa=a("8343"),Ta=a("5dc8"),Ea=a("d17a");a("bbe3");r["default"].config.productionTip=!1,Oa.a.defaults.withCredentials=!0,r["default"].use(Ra.a,Oa.a),r["default"].use(wa["default"]),r["default"].use(D.a),r["default"].use(ka.a),r["default"].use(La["a"],{config:{id:"G-L0G2MPRF8J"}}),Da["a"].use([Sa["a"],Ta["a"],Ea["a"]]),new r["default"]({router:Ca,store:y,vuetify:_a,created:function(){ka.a.init()},render:function(t){return t(f)}}).$mount("#app")},"57e9":function(t,e,a){t.exports=a.p+"img/3.53b539b5.jpeg"},"5af3":function(t,e,a){t.exports=a.p+"img/2.8cc15769.jpeg"},"5cf7":function(t,e,a){},"5fa5":function(t,e,a){"use strict";a("6043")},6043:function(t,e,a){},"64b4":function(t,e,a){"use strict";a("1985")},"6cd7":function(t,e,a){"use strict";a("905d")},7046:function(t,e,a){"use strict";a("a921")},"70b9":function(t,e,a){"use strict";a("89c5")},"743b":function(t,e,a){"use strict";a("ddf0")},7963:function(t,e,a){t.exports=a.p+"img/1.143366ce.jpeg"},"7bfe":function(t,e,a){"use strict";a("0e75")},"7cbc":function(t,e,a){t.exports=a.p+"img/lowa.960aa280.png"},"7dd2":function(t,e,a){t.exports=a.p+"img/mainpage4.454b9d07.png"},"7e8c":function(t,e,a){"use strict";a("d9eb")},"85ec":function(t,e,a){},"89c5":function(t,e,a){},"8d07":function(t,e,a){t.exports=a.p+"img/5.c0519ee2.jpeg"},"905d":function(t,e,a){},9852:function(t,e,a){t.exports=a.p+"img/mainpage1.64394676.png"},"9c8a":function(t,e,a){t.exports=a.p+"img/white.ad953517.jpg"},a921:function(t,e,a){},a94e:function(t,e,a){"use strict";a("b31a")},aa98:function(t,e,a){t.exports=a.p+"img/arcteryx.27171ab8.png"},b1a9:function(t,e,a){"use strict";a("51a6")},b230:function(t,e,a){"use strict";a("2a34")},b31a:function(t,e,a){},b6c6:function(t,e,a){},c9cf:function(t,e,a){"use strict";a("5cf7")},cf05:function(t,e,a){t.exports=a.p+"img/logo.d5eaf9e1.png"},d178:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"navbar",attrs:{id:"app"}},[r("v-app-bar",{attrs:{fixed:"","hide-on-scroll":t.hidebar,value:!t.hidebar,color:t.navBackground,flat:""}},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"mr-3",attrs:{src:t.logoSrc,height:"40"}})]),r("v-spacer"),t._l(t.items,(function(e){return r("v-menu",{key:e.text,staticClass:"navbar",attrs:{bottom:"","offset-y":"","open-on-hover":"",transition:"slide-y-transition","max-width":"200"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.attrs,n=a.on;return[r("v-list-item-content",t._g(t._b({staticClass:"list-item text-center justify-center hidden-md-and-down",class:{list_black:t.black,list_white:!t.black}},"v-list-item-content",s,!1),n),["brand"===e.navigationRoute?r("a",{class:{about_black:t.black,about_white:!t.black}},[t._v(" "+t._s(e.text)+" ")]):r("router-link",{class:{about_black:t.black,about_white:!t.black},attrs:{to:{name:"Navigation",params:{navigation:e.navigationRoute}}}},[t._v(" "+t._s(e.text)+" ")])],1)]}}],null,!0)},[r("v-list",{staticClass:"pl-5",attrs:{flat:"",depressed:"",text:""}},t._l(e.category,(function(a,s){return r("v-list-item",{key:a,staticClass:"dropdown_list",attrs:{link:"",to:{name:"Category",params:{navigation:e.navigationRoute,category:e.categoryRoute[s]}}}},[r("v-list-item-title",{domProps:{textContent:t._s(a)}})],1)})),1)],1)})),r("v-spacer"),r("v-menu",{attrs:{"offset-y":"","max-width":"100",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[r("v-icon",{attrs:{color:t.icon}},[t._v("mdi-account")])],1)]}}])},[t.isLogin.id.length?r("v-list",["admin"===t.role?r("v-list-item",{attrs:{to:{name:"product-management"}}},[r("v-list-item-title",[t._v("後台管理")])],1):r("v-list-item",{attrs:{to:{name:"Purchase",params:{status:"process"}}}},[r("v-list-item-title",[t._v("會員資訊")])],1),r("v-list-item",{attrs:{link:""},on:{click:t.logout}},[r("v-list-item-title",[t._v("登出")])],1)],1):r("v-list",[r("v-list-item",{attrs:{to:{name:"Login"}}},[r("v-list-item-title",[t._v("登入")])],1),r("v-list-item",{attrs:{to:{name:"Register"}}},[r("v-list-item-title",[t._v("註冊")])],1)],1)],1),r("v-btn",{attrs:{icon:"",to:{name:"Cart"}}},[r("v-badge",{attrs:{color:"primary",right:"",overlap:"",bordered:"",content:t.cartList.length?t.cartList.length:"0"}},[r("v-icon",{attrs:{color:t.icon}},[t._v("mdi-cart")])],1)],1),r("v-btn",{staticClass:"hidden-lg-and-up",attrs:{icon:"",color:"primary"},on:{click:function(e){t.sidebar=!t.sidebar}}},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-menu")])],1)],2),r("v-navigation-drawer",{staticClass:"sidebar mb-16",attrs:{color:"sidebar",app:"",temporary:"",width:"300"},model:{value:t.sidebar,callback:function(e){t.sidebar=e},expression:"sidebar"}},[r("div",{staticClass:"mt-5 text-center"},[r("router-link",{attrs:{to:"/"}},[r("img",{attrs:{src:a("cf05"),height:"45"}})])],1),r("v-card",{staticClass:"mx-auto",attrs:{width:"380",flat:"",color:"transparent"}},[r("v-list",t._l(t.items,(function(e){return r("v-list-group",{key:e.text,attrs:{"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.text))])],1)]},proxy:!0}],null,!0)},t._l(e.category,(function(a,s){return r("v-list-item",{key:a,staticClass:"nav_link",attrs:{link:"",to:{name:"Category",params:{navigation:e.navigationRoute,category:e.categoryRoute[s]}}}},[r("v-list-item-title",{domProps:{textContent:t._s(a)}})],1)})),1)})),1)],1)],1)],1)},s=[],n=(a("96cf"),a("1da1")),i=a("1602"),o={data:function(){return{navBackground:"transparent",hidebar:!1,items:[{text:"女款",category:["上衣","褲子","鞋子","外套","襪子"],navigationRoute:"women",categoryRoute:["shirt","pant","shoes","jacket","socks"]},{text:"男款",category:["上衣","褲子","鞋子","外套","襪子"],navigationRoute:"men",categoryRoute:["shirt","pant","shoes","jacket","socks"]},{text:"裝備",category:["登山杖","登山包","睡袋","鍋具","毛帽","隨行包"],navigationRoute:"equipment",categoryRoute:["trekking-poles","backpacks","sleeping-bag","pots","hat","belt-bags"]},{text:"品牌",category:["mammut","gregory","MSR","mont-bell","ARC'TERYX","LOWA","Smartwool","Fjallraven"],navigationRoute:"brand",categoryRoute:["mammut","gregory","MSR","mont-bell","ARC'TERYX","LOWA","Smartwool","Fjallraven"]}],showlogin:!0,sidebar:!1,logoSrc:a("d939"),black:!1,icon:"white"}},computed:{isLogin:function(){return this.$store.state.user},role:function(){return this.isLogin.role},cartList:function(){return this.$store.state.cartList}},methods:{showHandler:function(){this.showlogin=!this.showlogin},logout:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["j"])();case 3:a=e.sent,a.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),window.localStorage.removeItem("hiker-cart"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",text:a.data.message}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleScroll:function(t){this.navBackground=window.scrollY>200?"white":"transparent",window.scrollY<200&&("/"===this.$route.path||"/navigation/women"===this.$route.path)?(this.logoSrc=a("d939"),this.black=!1,this.icon="white"):(this.logoSrc=a("cf05"),this.black=!0,this.icon="black"),window.scrollY<200?this.hidebar=!1:this.hidebar=!0}},watch:{"$vuetify.breakpoint.smAndUp":function(){this.$vuetify.breakpoint.smAndUp&&(this.sidebar=!1)}},mounted:function(){this.$store.state.user.id&&"user"===this.$store.state.user.role?this.$store.dispatch("fetchCartList"):this.$store.commit("INIT_CART"),this.handleScroll()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},c=o,l=(a("7e8c"),a("2877")),u=a("6544"),d=a.n(u),m=a("40dc"),p=a("4ca6"),f=a("8336"),v=a("b0af"),g=a("132d"),h=a("8860"),b=a("56b0"),x=a("da13"),C=a("5d23"),y=a("e449"),_=a("f774"),w=a("2fa4"),I=Object(l["a"])(c,r,s,!1,null,"5502ad72",null);e["a"]=I.exports;d()(I,{VAppBar:m["a"],VBadge:p["a"],VBtn:f["a"],VCard:v["a"],VIcon:g["a"],VList:h["a"],VListGroup:b["a"],VListItem:x["a"],VListItemContent:C["a"],VListItemTitle:C["c"],VMenu:y["a"],VNavigationDrawer:_["a"],VSpacer:w["a"]})},d939:function(t,e,a){t.exports=a.p+"img/logo-white.83e8c66a.png"},d9eb:function(t,e,a){},ddf0:function(t,e,a){},e650:function(t,e,a){t.exports=a.p+"img/fjallraven.fbd4f4b4.png"},e816:function(t,e,a){},e915:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"w-80 justify-space-around d-flex flex-column",attrs:{"max-width":"374","max-height":"520",height:"100%",width:"100%",elevation:"0"}},[t.product?a("ProductImage",{staticClass:"h-70",attrs:{product:t.product}}):t._e(),a("v-card-text",{staticClass:"mt-3 pt-0 h-30 d-flex flex-column justify-center"},[a("v-row",{staticClass:"mx-0 d-flex flex flex-column pa-0",attrs:{align:"center"}},[a("div",{staticClass:"product_line_height mt-1 mt-lg-5 overline mb-1 font-weight-bold"},[t._v(t._s(t.product.brand))]),t.product.comments?[a("v-rating",{attrs:{value:4.5,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),a("div",{staticClass:"grey--text ml-4"},[t._v(" 4.5 (413) ")])]:t._e(),a("v-card-title",{staticClass:"product_line_height mt-1 mt-lg-5 pa-1 grow font-size"},[t._v(t._s(t.product.productName))]),a("div",{staticClass:"product_line_height mt-1 mt-lg-5 price-color"},[t._v("$"+t._s(t.product.price))])],2)],1)],1)},s=[],n=(a("4160"),a("159b"),a("fdea")),i={components:{ProductImage:n["a"]},props:["product"],data:function(){return{index:0}},computed:{productImg:function(){var t=[];return this.product.productImg.forEach((function(e){t.push("https://vue-hiker.herokuapp.com/products/file/"+e.file)})),t},showImg:function(){return this.productImg[this.index]}},methods:{changePicHandler:function(t){this.index=t}}},o=i,c=(a("64b4"),a("2877")),l=a("6544"),u=a.n(l),d=a("b0af"),m=a("99d9"),p=a("1d4d"),f=a("0fd9"),v=Object(c["a"])(o,r,s,!1,null,null,null);e["a"]=v.exports;u()(v,{VCard:d["a"],VCardText:m["c"],VCardTitle:m["d"],VRating:p["a"],VRow:f["a"]})},ea4b:function(t,e,a){t.exports=a.p+"img/mammut.f596f702.png"},f369:function(t,e,a){t.exports=a.p+"img/mainpage2.a539e0ee.png"},faf5:function(t,e,a){},fd2d:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticClass:"mt-15",attrs:{padless:"",color:"primary lighten-1"}},[a("v-card",{staticClass:"gray primary--text text-center",attrs:{flat:"",tile:"",width:"100%"}},[a("v-col",{staticClass:"d-flex flex-wrap justify-center",attrs:{cols:"12"}},[a("v-card-text",{staticClass:"col-lg-12 col-6 primary--text pt-0 my-10 d-flex justify-center align-center"},t._l(t.icons,(function(e){return a("v-btn",{key:e,staticClass:"mx-1 mx-lg-4 primary--text",attrs:{icon:""}},[a("v-icon",{attrs:{color:"primary",size:"24px"}},[t._v(" "+t._s(e)+" ")])],1)})),1),a("v-card-text",{staticClass:"col-lg-4 col-6 primary--text pt-0"},[a("div",{staticClass:"headline text-subtitle-1 font-weight-bold mb-4"},[t._v(" 裝備指南 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 裝備操作 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 保養維修 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 選購建議 ")])]),a("v-card-text",{staticClass:"col-lg-4 col-6 primary--text pt-0"},[a("div",{staticClass:"headline text-subtitle-1 font-weight-bold mb-4"},[t._v(" 關於我們 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 門市資訊 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 隱私權宣告 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 服務條款 ")])]),a("v-card-text",{staticClass:"col-lg-4 col-6 primary--text pt-0"},[a("div",{staticClass:"headline text-subtitle-1 font-weight-bold mb-4"},[t._v(" 購物須知 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 購物流程 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 退/換貨 ")]),a("div",{staticClass:"text-subtitle-1 headline mb-4 text-wrap"},[t._v(" 商品保固 ")])])],1),a("v-divider"),a("v-card-text",{staticClass:"primary--text"},[t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("商品及內容僅作為學習使用")])])],1)],1)},s=[],n={data:function(){return{icons:["mdi-facebook","mdi-twitter","mdi-linkedin","mdi-instagram"]}}},i=n,o=a("2877"),c=a("6544"),l=a.n(c),u=a("8336"),d=a("b0af"),m=a("99d9"),p=a("62ad"),f=a("ce7e"),v=a("553a"),g=a("132d"),h=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=h.exports;l()(h,{VBtn:u["a"],VCard:d["a"],VCardText:m["c"],VCol:p["a"],VDivider:f["a"],VFooter:v["a"],VIcon:g["a"]})},fdea:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isLoading?t._e():r("div",{staticClass:"d-flex flex-wrap flex-sm-nowrap flex-sm-column justify-space-around align-sm-center"},[r("router-link",{staticClass:"col-12 col-sm-10 h-65 d-flex justify-center align-center mt-sm-5 mb-sm-5 pa-0 pt-sm-5",attrs:{to:{name:"ProductDetail",params:{productId:t.productId}}}},[r("v-img",{staticClass:"img-height",attrs:{contain:"","lazy-src":a("9c8a"),src:t.showImg}})],1),r("v-row",{staticClass:"col-12 col-sm-10 align-center justify-center d-flex flex pa-0 h-35 ma-0"},t._l(t.productImg,(function(e,a){return r("v-col",{key:e,staticClass:"col-sm-2 col-lg-3 pa-1 ma-0 h-50",attrs:{cols:"3"}},[r("v-img",{staticClass:"pointer border h-100 w-80 ma-auto",attrs:{contain:"","max-height":"80px",src:e},on:{click:function(e){return t.changePicHandler(a)}}})],1)})),1)],1)},s=[],n=(a("4160"),a("159b"),{props:["product"],data:function(){return{index:0,productId:"",isLoading:!0}},computed:{productImg:function(){var t=[];return this.product.productImg.forEach((function(e){t.push("https://vue-hiker.herokuapp.com/products/file/"+e.file)})),t},showImg:function(){return this.productImg[this.index]}},methods:{changePicHandler:function(t){this.index=t}},mounted:function(){this.product.p_id?this.productId=this.product.p_id:this.productId=this.product._id,this.isLoading=!1}}),i=n,o=(a("c9cf"),a("2877")),c=a("6544"),l=a.n(c),u=a("62ad"),d=a("adda"),m=a("0fd9"),p=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=p.exports;l()(p,{VCol:u["a"],VImg:d["a"],VRow:m["a"]})}});
//# sourceMappingURL=app.f590e0f7.js.map